<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Michigan Counties Map</title>
        <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'>
        <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css' rel='stylesheet'>

        <style>
            body { margin: 0; padding: 0; }
            #map { position: absolute; top: 0; bottom: 0px; width: 100%; }
        </style>
</head>
<body>
    <div id='map'></div>

    <div style='position: absolute; bottom: 80px; right: 20px;'>
      <a href="index.html">
        <button>Switch to Slider</button>
      </a>
    </div>
    
    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoic2dvZXJnZW4iLCJhIjoiY2xxOGh3NXNmMWRpbDJybGt0M3dlaWhuaCJ9._cf-BoBhMT2C5-sHnyHqeQ';
        const map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/mapbox/satellite-streets-v11',
          center: [-85, 43], // Center the map on Michigan
          zoom: 8 // Adjust the zoom level as needed
        });
      
        const bounds = [
          [-91, 41], // Southwest coordinates of Michigan
          [-81.5, 49] // Northeast coordinates of Michigan
        ];
      
      
      const infoDisplay = document.getElementById('info');
      let countyInfo; // Declare countyInfo variable outside the event handlers
      
        // Load the JSON data from external file
        fetch('clean.json')
          .then(response => response.json())
          .then(data => {
            const countyData = data;
      
            map.on('load', () => {
              const infoPage = document.getElementById('info');
      
              map.setMaxBounds(bounds);
              map.setMinZoom(3);
      
              // Load county boundary data
              map.addSource('washtenaw', {
                type: 'geojson',
                data: 'washtenaw_county.geojson' // Replace with the path to your county boundary JSON file
              });
      
              // Load county boundary data
              map.addSource('counties', {
                type: 'geojson',
                data: 'map.geojson' // Replace with the path to your county boundary JSON file
              });
      
              // Add county line layer
              map.addLayer({
                'id': 'washtenaw-line-layer',
                'type': 'line',
                'source': 'washtenaw',
                'paint': {
                  'line-color': '#FF0000', // Adjust the color of the county lines as needed
                  'line-width': 2 // Adjust the width of the county lines
                }
              });
      
              // Add county fill layer
              map.addLayer({
                'id': 'washtenaw-fill-layer',
                'type': 'fill',
                'source': 'washtenaw',
                'paint': {
                  'fill-color': '#FFFFFF', // Adjust the default fill color of the counties as needed
                  'fill-opacity': 0.1 // Adjust the fill opacity of the counties
                }
              });        
      
              // Add county line layer
              map.addLayer({
                'id': 'county-line-layer',
                'type': 'line',
                'source': 'counties',
                'paint': {
                  'line-color': '#000000', // Adjust the color of the county lines as needed
                  'line-width': 2 // Adjust the width of the county lines
                }
              });
      
              // Add county fill layer
              map.addLayer({
                'id': 'county-fill-layer',
                'type': 'fill',
                'source': 'counties',
                'paint': {
                  'fill-color': '#FFFFFF', // Adjust the default fill color of the counties as needed
                  'fill-opacity': 0.1 // Adjust the fill opacity of the counties
                }
              });
      
              // Information display div
              const infoDisplay = document.getElementById('info');
   
              // Change cursor to pointer when hovering over county fill
              map.on('mouseenter', 'county-fill-layer', () => {
                map.getCanvas().style.cursor = 'pointer';
              });
      
              // Change cursor back to default
              map.on('mouseleave', 'county-fill-layer', () => {
                map.getCanvas().style.cursor = '';
              });
            });
          })
          .catch(error => {
            console.error('Error fetching JSON:', error);
          });
      </script>
      
      </body>
      </html>



